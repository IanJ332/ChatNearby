# **Time2Chat Development Log**

### **Phase 1: Initial Setup**
**Status: Completed**

- **Objective**: Set up the project structure and basic functionality.
  
- **Tasks Completed**:
  1. **Project Folder Structure**: 
     - Created the `backend/`, `frontend/`, `public/`, `temp/`, and `styles/` folders.
     - Created necessary initial files like `index.js`, `index.html`, `package.json`, and `style.css`.
  
  2. **Basic Backend Setup**:
     - Installed **Node.js**, **Express**, and **Socket.IO**.
     - Created the initial server setup in `index.js` to serve static files and manage WebSocket connections.
  
  3. **Basic Frontend Setup**:
     - Designed an **HTML form** for the username input in `index.html`.
     - Integrated Socket.IO on the client-side to communicate with the backend.

- **Next Steps**:
  - Begin developing the role selection (Holder/Participant) and room creation logic.

### **Phase 2: Username Setup & Validation**
**Status: Completed**

- **Objective**: Validate user inputs for usernames.

- **Tasks Completed**:
  1. **Validation Logic**:
     - Implemented username validation to check for proper length (6-20 characters) and valid characters (letters, numbers, and allowed special characters).
     - Redirect users to the role selection page after a valid username is entered.

  2. **Frontend Handling**:
     - The `index.html` page now includes the username input, which checks validity via Socket.IO.

- **Next Steps**:
  - Implement the room creation for the Holder and room join functionality for Participants.

### **Phase 3: Room Creation & Joining**
**Status: Completed**

- **Objective**: Implement room creation and joining logic for both roles (Holder and Participant).

- **Tasks Completed**:
  1. **Room Creation**:
     - Holders can create a new room with a randomly generated 9-digit number.
     - The backend automatically creates a folder inside the `/temp` directory for each room.

  2. **Room Joining**:
     - Participants can either view available rooms or join a room by entering its 9-digit number.
     - If a room exists, the user is redirected to the collaborative canvas page.

- **Next Steps**:
  - Implement the collaborative canvas functionality where users can write in real-time, and ensure updates are stored as `.txt` files on the server.

### **Phase 4: Collaborative Canvas & Real-Time Updates**
**Status: In Progress**

- **Objective**: Develop the shared canvas where users can edit content in real time, and have updates saved as `.txt` files on the server.

- **Tasks Completed**:
  1. **Canvas Interface**:
     - A scrollable canvas was created in `canvas.html` with a large text area for users to input text.

  2. **Real-Time Communication**:
     - Users can now type text, and their input is broadcast to everyone else in the room via WebSockets (using Socket.IO).

  3. **Text File Storage**:
     - The backend saves each user’s updates as individual `.txt` files with a timestamp in the room’s folder under `/temp`.

- **Next Steps**:
  - Refine real-time synchronization to handle multiple users editing at once.
  - Ensure that updates are stored efficiently, without flooding the server with too many file writes.

### **Phase 5: Avatar Integration**
**Status: Ready to Start**

- **Objective**: Assign each user a random avatar upon joining a room.

- **Tasks to Complete**:
  1. **Avatar Assignment**:
     - Assign a random avatar from the `/public/avatars` folder to each user when they join the room.

  2. **Frontend Display**:
     - Display the assigned avatars at the top of the canvas page to visually represent all users in the room.

- **Next Steps**:
  - Implement the avatar assignment logic in both the backend and frontend.
  - Display avatars dynamically for each user in the room.

### **Phase 6: Refinement & Scalability**
**Status: Planned**

- **Objective**: Refine the canvas logic, improve performance, and add features for scalability.

- **Planned Tasks**:
  1. **Text File Management**:
     - Implement strategies for merging `.txt` files or compressing changes to avoid too many file writes.
  
  2. **Performance Optimization**:
     - Ensure smooth real-time performance for multiple users editing the canvas simultaneously.

  3. **Version Control**:
     - Consider adding a version control system or history tracking to allow rolling back changes on the canvas.

- **Next Steps**:
  - Improve file storage efficiency and optimize real-time performance.

---

### **Summary of Completed Work**
- Project folder structure has been set up.
- Username validation is complete.
- Role selection (Holder/Participant) and room creation logic is implemented.
- Collaborative canvas functionality is partially complete, with real-time editing in progress.

### **Next Major Milestones**
- **Phase 4**: Complete the real-time synchronization for the canvas and finalize text file saving.
- **Phase 5**: Integrate avatar assignment and display logic.
- **Phase 6**: Refine the application for scalability, performance, and future-proofing.

---

### **Potential Future Features**
- **User Roles**: Implement additional roles or permissions for different types of users (e.g., admin controls).
- **Canvas Enhancements**: Add support for rich text formatting or collaborative drawing on the canvas.
- **File Export**: Allow users to export the canvas as a single file, combining all updates into one final document.

### **If Paused**
- **Where to Resume**:
  - If development is paused, resume from **Phase 4** to complete the collaborative canvas and real-time `.txt` file updates. 
  - Afterward, proceed to **Phase 5** for avatar integration.